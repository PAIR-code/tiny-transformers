@let exp = experiment(); @if( exp === null) {
<div>
  <button mat-button (click)="newExperiment()">New experiment</button>
  <button mat-button>Load</button>
</div>
} @else { @let sections = exp.sections();

<div clas="page">
  <div class="header hoverButtons">
    <div class="path">{{ exp.id }}</div>
    <div class="buttons">
      <div class="spacer"></div>
      <button mat-button>Save</button>
    </div>
  </div>

  <mat-sidenav-container>
    <mat-sidenav #sidenav mode="side" opened="true">
      <mat-nav-list class="menu-buttons">
        @for (section of sections; track section.def.id) {
        <mat-list-item
          [activated]="router.url == '#'"
          matListItemTitle
          routerLink=""
          routerLinkActive="active"
          ariaCurrentWhenActive="sections"
        >
          {{ section.def.id }}
        </mat-list-item>
        }
      </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content>
      <div class="sections hoverButtons">
        @for (section of sections; track section.def.id) { @let data =
        section.data();
        <mat-card class="section">
          <mat-card-content>
            @if(data.kind === ExpDefKind.Data) {
            @if(data.sectionData.sectionKind === SectionKind.Markdown) {
            <div>{{ data.sectionData.markdown }}</div>
            } @else {
            <div>
              Unknown sectionDataKind {{ data.sectionData.sectionKind }}
            </div>
            } } @else {
            <div>Unknown data.kind {{ data.kind }}</div>
            }

            <div class="buttons">
              <button mat-button>+</button>
              <span class="'spacer"></span>
              <button mat-button>...</button>
            </div>
          </mat-card-content>
        </mat-card>
        }
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
}
